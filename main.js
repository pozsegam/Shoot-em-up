(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{BL:()=>O,vC:()=>A});const t=PIXI.sound.Sound.from({url:"assets/gameover.wav",autoPlay:!1,volume:.2}),i=PIXI.sound.Sound.from({url:"assets/music.mp3",loop:!0,volume:.2}),n=PIXI.sound.Sound.from({url:"assets/laser.ogg",volume:.2}),o=PIXI.sound.Sound.from({url:"assets/crash.wav",volume:.2}),s=PIXI.sound.Sound.from({url:"assets/score.wav",volume:.2});function d(e,t){e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,t.centerX=t.x+t.width/2,t.centerY=t.y+t.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,t.halfWidth=t.width/2,t.halfHeight=t.height/2;let i=!1;return Math.abs(e.centerX-t.centerX)<e.halfWidth+t.halfWidth&&Math.abs(e.centerY-t.centerY)<e.halfHeight+t.halfHeight&&(i=!0),i}let a={x:0,y:0};window.addEventListener("keydown",(e=>{switch(e.keyCode){case 39:a.x=5;break;case 37:a.x=-5;break;case 40:a.y=5;break;case 38:a.y=-5}})),window.addEventListener("keyup",(e=>{switch(e.keyCode){case 39:case 37:a.x=0;break;case 40:case 38:a.y=0}}));const h=new PIXI.Container,r=new PIXI.TextStyle({fontFamily:"VT323",fontSize:70,fill:"white",align:"center"});let l=new PIXI.Text("GAME OVER!\nSCORE:",r);l.anchor.set(.5),l.position.set(400,280),h.addChild(l);const c=new PIXI.Container,p=new PIXI.Graphics;p.beginFill(3487801),p.drawRoundedRect(220,320,350,100),c.addChild(p),c.position.set(0,20),c.interactive=!0,c.buttonMode=!0,c.on("pointerdown",A);let I=new PIXI.Text("Main Menu",r);I.anchor.set(.5),I.position.set(400,370),c.addChild(I),h.addChild(c);const u=new PIXI.Container,w=new PIXI.TextStyle({fontFamily:"VT323",fontSize:48,fill:"white",align:"center"});function g(e,t,i,n,o,s,d,a,h){(t=new PIXI.Text(t,i)).anchor.set(n),t.position.set(o,s),e.addChild(t),t.interactive=d,t.buttonMode=a,u.addChild(t),t.on("pointerdown",h)}g(u,"Game1",w,.5,400,200,!0,!0,O),g(u,"Game2",w,.5,400,250,!0,!0,O),g(u,"Game3",w,.5,400,300,!0,!0,O),g(u,"Exit",w,.5,400,350,!0,!0,(()=>{window.open("https://www.reddit.com/")}));let f,y,x,P,X,m,C,v,b,S,T=[],k=0,E=[],L=[],M=new PIXI.Application({width:800,height:600});function O(){P=F,window.addEventListener("keydown",(e=>{if(32===e.keyCode){let e=new PIXI.Sprite(PIXI.Loader.shared.resources["assets/bullet.png"].texture),t=y.y+y.height/4,i=y.x+30;e.position.set(i,t),b.addChild(e),n.play(),T.push(e)}})),C=[],T=[],k=0,X.text="SCORE:"+k,i.play(),y.addChild(x),b.addChild(f),b.addChild(y),b.addChild(X),u.visible=!1,h.visible=!1,b.visible=!0,P==F&&setInterval(j,2e3)}function R(){}function A(){P=R,b.visible=!1,h.visible=!1,u.visible=!0}function G(){b.visible=!1,h.visible=!0,i.stop(),C=[],T=[];for(var e=b.children.length-1;e>=0;e--)b.removeChild(b.children[e])}function V(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function j(){let e=new PIXI.Sprite(PIXI.Loader.shared.resources["assets/enemy.png"].texture);e.width=60,e.height=60,e.position.set(V(800,900)-e.width,V(1,600)-e.height),b.addChild(e),C.push(e)}function F(e){!function(e,t){let i;e.x<t.x&&(e.x=t.x,i="left"),e.y<t.y&&(e.y=t.y,i="top"),e.x+e.width>t.width&&(e.x=t.width-e.width,i="right"),e.y+e.height>t.height&&(e.y=t.height-e.height,i="bottom")}(y,{x:0,y:0,width:800,height:600}),y.x+=a.x,y.y+=a.y;for(let e=0;e<T.length;e++){T[e].x+=5;for(let t=0;t<C.length;t++)d(T[e],C[t])&&(k+=10,X.text="SCORE:"+k,b.removeChild(C[t]),b.removeChild(T[e]),C.splice(t,1),T.splice(e,1),o.play(),s.play())}for(let e=0;e<C.length;e++)d(C[e],y)&&(o.play(),t.play(),P=G,l.text="GAME OVER!\nSCORE:"+k),C[e].x-=5;f.tilePosition.x-=1}document.body.appendChild(M.view),PIXI.Loader.shared.add("assets/spaceShip.png").add("assets/background.png").add("assets/fire.gif").add("assets/bullet.png").add("assets/enemy.png").add("assets/explosion.json").add("assets/loading.json").add("assets/logo.png").load((function(){P=R,b=new PIXI.Container,S=new PIXI.Container,function(){let e;for(e=1;e<40;e++){const t=PIXI.Texture.from(`explosion_${e}.png`);E.push(t)}}(),function(){let e;for(e=1;e<9;e++){const t=PIXI.Texture.from(`loading_${e}.png`);L.push(t)}}(),v=new PIXI.AnimatedSprite(L),v.loop=!0,v.height=200,v.width=200,v.anchor.set(.5),v.position.set(400,300),v.animationSpeed=.1,v.play(),S.addChild(v);const e=new PIXI.AnimatedSprite(E),t=new PIXI.AnimatedSprite(E);e.height=500,e.width=500,e.play(),e.position.set(100,300),e.animationSpeed=.5,e.anchor.set(.5),u.addChild(e),t.height=500,t.width=500,t.play(),t.position.set(700,300),t.animationSpeed=.5,t.anchor.set(.5),u.addChild(t),m=new PIXI.Sprite(PIXI.Loader.shared.resources["assets/logo.png"].texture),m.anchor.set(.5),m.position.set(400,120),m.width=160,m.height=80,M.stage.addChild(b),M.stage.addChild(h),M.stage.addChild(S),setTimeout((()=>{M.stage.addChild(u),S.visible=!1}),2e3),u.addChild(m),u.visible=!0,b.visible=!1,h.visible=!1;const i=new PIXI.TextStyle({fontFamily:"VT323",fontSize:64,fill:"white"});X=new PIXI.Text("SCORE:"+k,i),X.position.set(10,10),f=new PIXI.TilingSprite(PIXI.Loader.shared.resources["assets/background.png"].texture,800,600),x=new PIXI.Sprite(PIXI.Loader.shared.resources["assets/fire.gif"].texture),y=new PIXI.Sprite(PIXI.Loader.shared.resources["assets/spaceShip.png"].texture),y.position.set(20,100),y.vx=0,y.vy=0,y.width=60,y.height=60,x.width=90,x.height=90,x.position.set(-90,145),M.ticker.add((e=>function(e){P(e)}(e)))}))})();